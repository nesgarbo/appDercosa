<div class="flex">
  <ejs-schedule
    #schedule
    height="100%"
    width="100%"
    [eventSettings]="eventSettings()"
    [(currentView)]="currentView"
    [workDays]="workDays"
    (popupOpen)="onPopupOpen($event)"
    (dragStart)="onDragStart($event)"
    (dragStop)="onDragStop($event)"
    (resizeStart)="onResizeStart($event)"
    (resizeStop)="onResizeStop($event)"
    (actionComplete)="onActionComplete($event)"
    (eventRendered)="onEventRendered($event)"
    class="flex"
    [rowAutoHeight]="true"
  >
    <e-views>
      <e-view
        option="TimelineMonth"
        [interval]="timeLineMonthViewInterval"
        displayName="{{ 'TIMELINE_MONTH' | translate }}"
      >
        <ng-template #dateHeaderTemplate let-data>
          <div class="date-text">{{ getDateHeaderText(data.date) }}</div>
        </ng-template>
        <ng-template #eventTemplate let-data>
          <div style="display: flex; flex-direction: column; flex-wrap: nowrap;">
            <strong>{{ data.partida }}</strong>
            <span>{{ data.pedido }}</span>
            <span>{{ data.linea }}</span>
          </div>
        </ng-template>
      </e-view>
      <e-view option="Agenda">
        <ng-template #eventTemplate let-data>
          <div
            class="template-wrap"
            style="display: flex; width: 100%; justify-content: space-between"
          >
            <div
              style="display: flex; flex-direction: column; flex-wrap: nowrap"
            >
              <strong>{{ "Partida: " + data.partida }}</strong>
              <span>{{ "Pedido: " + data.pedido }}</span>
              <span>{{ "Linea: " + data.linea }}</span>
            </div>
            <div
              style="
                display: flex;
                flex-direction: column;
                flex-wrap: nowrap;
                align-items: center;
              "
            >
              <strong>{{ data.test.client.nombrecli }}</strong>
              @if(data.result){
              <div
                style="
                  width: 70%;
                  height: 70%;
                  align-items: center;
                  justify-content: center;
                  display: flex;
                "
              >
                <ion-note color="white" class="ion-text-wrap">{{
                  data.result
                }}</ion-note>
              </div>
              }
            </div>
          </div>
        </ng-template>
      </e-view>
    </e-views>
  </ejs-schedule>
</div>
